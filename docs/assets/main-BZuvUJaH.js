import"./nav-bar-DKg1tGoi.js";import{l as x}from"./about-data-C6eybRQ0.js";class b extends HTMLElement{constructor(){super(),this.currentSection=null,this.classPrefix="interactive-showcase-"}connectedCallback(){this.render(),this.setupNavigation()}render(){const s=document.createElement("div");s.className=`${this.classPrefix}container`;const t=document.createElement("div");t.className=`${this.classPrefix}nav-list`,t.id=`${this.classPrefix}nav-list`;const e=document.createElement("div");e.className=`${this.classPrefix}content-panel`,e.id=`${this.classPrefix}content-panel`,e.addEventListener("mouseenter",()=>{this.currentSection&&this.querySelectorAll(`.${this.classPrefix}nav-item`).forEach(i=>{i.dataset.section===this.currentSection&&i.classList.add("active")})});const a=document.createElement("div");a.className=`${this.classPrefix}default-message`,a.innerHTML=`
            <h3>ðŸ‘‹ Welcome</h3>
            <p>Hover over an item on the left to explore</p>
        `,e.appendChild(a),e.classList.add("visible"),s.append(t,e),this.appendChild(s)}setupNavigation(){const s=[{id:"projects",title:"Projects",desc:"View my work"},{id:"skills",title:"Skills",desc:"Technical abilities"},{id:"about",title:"About",desc:"Learn about me"},{id:"stats",title:"Stats",desc:"By the numbers"},{id:"endorsement",title:"Testimonials",desc:"What others say"}],t=this.querySelector(`#${this.classPrefix}nav-list`);t.textContent="",s.forEach(e=>{const a=document.createElement("div");a.className=`${this.classPrefix}nav-item`,a.dataset.section=e.id,a.innerHTML=`
                <div class="${this.classPrefix}nav-item-title">${e.title}</div>
                <div class="${this.classPrefix}nav-item-desc">${e.desc}</div>
            `,a.addEventListener("mouseenter",()=>{this.showSection(e.id)}),a.addEventListener("click",()=>{this.showSection(e.id)}),t.appendChild(a)})}showSection(s){this.querySelectorAll(`.${this.classPrefix}nav-item`).forEach(e=>{e.dataset.section===s?e.classList.add("active"):e.classList.remove("active")}),this.currentSection=s,this.renderSection(s)}hideSection(){this.querySelectorAll(`.${this.classPrefix}nav-item`).forEach(e=>e.classList.remove("active"));const t=this.querySelector(`#${this.classPrefix}content-panel`);t.classList.remove("visible"),setTimeout(()=>{if(!this.currentSection){const e=document.createElement("div");e.className=`${this.classPrefix}default-message`,e.innerHTML=`
                    <h3>ðŸ‘‹ Welcome</h3>
                    <p>Hover over an item on the left to explore</p>
                `,t.textContent="",t.appendChild(e)}},300)}async renderSection(s){const t=this.querySelector(`#${this.classPrefix}content-panel`);switch(t.classList.remove("visible"),await new Promise(e=>setTimeout(e,200)),t.textContent="",t.classList.add("visible"),await new Promise(e=>setTimeout(e,100)),s){case"projects":await this.renderProjects();break;case"skills":await this.renderSkills();break;case"about":await this.renderAbout();break;case"stats":await this.renderStats();break;case"endorsement":await this.renderEndorsement();break}}async renderProjects(){const s=this.querySelector(`#${this.classPrefix}content-panel`),t=document.createElement("h2");t.className=`${this.classPrefix}content-item`,t.textContent="Featured Projects",s.appendChild(t);const e=window.location.hostname.includes("github.io"),a=window.location.hostname.includes("onrender.com"),h=e?"https://portfolio-awnu.onrender.com/api/projects":a?"/api/projects":"http://localhost:2000/api/projects";try{const i=await fetch(h,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`HTTP ${i.status}`);const m=await i.json(),p=Array.isArray(m.projects)?m.projects:[],c=document.createElement("div");c.className=`${this.classPrefix}projects-grid ${this.classPrefix}content-item`,p.slice(0,3).forEach(o=>{const l=document.createElement("article");l.className=`${this.classPrefix}project-card`;const d=document.createElement("img");if(d.className=`${this.classPrefix}project-media`,d.alt=(o?.name||"Project")+" thumbnail",o?.img){const E="/Portfolio/";d.src=o.img.startsWith("http")?o.img:`${E}${o.img}`}const u=document.createElement("div");u.className=`${this.classPrefix}project-body`;const f=document.createElement("div");f.className=`${this.classPrefix}project-meta`;const v=document.createElement("span");v.className=`${this.classPrefix}project-chip`,v.textContent=o?.year||"",f.appendChild(v);const P=document.createElement("h3");P.className=`${this.classPrefix}project-title`,P.textContent=o?.name||"Untitled Project";const $=document.createElement("p");$.className=`${this.classPrefix}project-desc`,$.textContent=o?.desc||"",u.append(f,P,$),l.append(d,u),c.appendChild(l)});const n=document.createElement("div");n.className=`${this.classPrefix}cta-container ${this.classPrefix}content-item`;const r=document.createElement("a");r.href="projects.html",r.className=`${this.classPrefix}cta-link`,r.textContent="View All Projects â†’",n.appendChild(r),s.append(c,n)}catch{const m=document.createElement("p");m.className="interactive-showcase-empty",m.textContent="Unable to load projects.",s.appendChild(m)}}async renderSkills(){const s=this.querySelector(`#${this.classPrefix}content-panel`),t=document.createElement("h2");t.className=`${this.classPrefix}content-item`,t.textContent="Skills",s.appendChild(t);const e=await x();if(!e)return;const a=[];(e.skills?.categories||[]).forEach(c=>{(c.items||[]).forEach(n=>{a.push({name:n.label,value:Number(n.value||0),category:c.title||c.name})})});const h=a.filter(c=>c.value>=2).sort((c,n)=>n.value-c.value).slice(0,6),i=document.createElement("div");i.className=`${this.classPrefix}skills-grid ${this.classPrefix}content-item`,h.forEach(c=>{const n=document.createElement("div");n.className=`${this.classPrefix}skill-item`;const r=document.createElement("div");r.className=`${this.classPrefix}skill-name`,r.textContent=c.name;const o=document.createElement("div");o.className=`${this.classPrefix}skill-level`,o.textContent=`${c.value}/3`;const l=document.createElement("div");l.className=`${this.classPrefix}skill-bar`;const d=document.createElement("div");d.className=`${this.classPrefix}skill-fill`,d.style.width=`${c.value/3*100}%`,l.appendChild(d),n.append(r,o,l),i.appendChild(n)});const m=document.createElement("div");m.className=`${this.classPrefix}cta-container ${this.classPrefix}content-item`;const p=document.createElement("a");p.href="about.html",p.className=`${this.classPrefix}cta-link`,p.textContent="View All Skills â†’",m.appendChild(p),s.append(i,m)}async renderAbout(){const s=this.querySelector(`#${this.classPrefix}content-panel`),t=document.createElement("h2");t.className=`${this.classPrefix}content-item`,t.textContent="About Me",s.appendChild(t);const e=await x();if(!e)return;const a=e.bio||{},h=document.createElement("div");if(h.className=`${this.classPrefix}about-content ${this.classPrefix}content-item`,a.avatar){const o=document.createElement("img");o.className=`${this.classPrefix}about-avatar`,o.alt="";const l="/Portfolio/";o.src=a.avatar.startsWith("http")?a.avatar:`${l}${a.avatar}`,h.appendChild(o)}const i=document.createElement("div");i.className=`${this.classPrefix}about-text`;const p=(a.body||"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim(),c=p.split(".").slice(0,2).join(".")+(p.includes(".")?"...":"");i.textContent=c||"Full-stack student developer passionate about clean code and accessible design.",h.appendChild(i);const n=document.createElement("div");n.className=`${this.classPrefix}cta-container ${this.classPrefix}content-item`;const r=document.createElement("a");r.href="about.html",r.className=`${this.classPrefix}cta-link`,r.textContent="Learn More â†’",n.appendChild(r),s.append(h,n)}async renderStats(){const s=this.querySelector(`#${this.classPrefix}content-panel`),t=document.createElement("h2");t.className=`${this.classPrefix}content-item`,t.textContent="By The Numbers",s.appendChild(t);const e=window.location.hostname.includes("github.io"),a=window.location.hostname.includes("onrender.com"),h=e?"https://portfolio-awnu.onrender.com/api/projects":a?"/api/projects":"http://localhost:2000/api/projects";let i=0;try{const l=await fetch(h,{headers:{Accept:"application/json"}});if(l.ok){const d=await l.json();i=Array.isArray(d.projects)?d.projects.length:0}}catch(l){console.error("Failed to load projects count:",l)}const m=await x();let p=0;m?.skills?.categories&&m.skills.categories.forEach(l=>{p+=(l.items||[]).length});let c=0;if(m?.timeline){const l=new Date().getFullYear(),d=Math.min(...m.timeline.map(u=>parseInt(u.start)||l));c=l-d}const n=document.createElement("div");n.className=`${this.classPrefix}stats-grid ${this.classPrefix}content-item`,[{number:i,label:"Projects"},{number:p,label:"Skills"},{number:c,label:"Years Experience"},{number:2025,label:"Graduation Year"}].forEach(l=>{const d=document.createElement("div");d.className=`${this.classPrefix}stat-item`;const u=document.createElement("div");u.className=`${this.classPrefix}stat-number`,u.textContent=l.number;const f=document.createElement("p");f.className=`${this.classPrefix}stat-label`,f.textContent=l.label,d.append(u,f),n.appendChild(d)});const r=document.createElement("div");r.className=`${this.classPrefix}cta-container ${this.classPrefix}content-item`;const o=document.createElement("a");o.href="about.html",o.className=`${this.classPrefix}cta-link`,o.textContent="View Full Profile â†’",r.appendChild(o),s.append(n,r)}async renderEndorsement(){const s=this.querySelector(`#${this.classPrefix}content-panel`),t=document.createElement("h2");t.className=`${this.classPrefix}content-item`,t.textContent="What Others Say",s.appendChild(t);const e=await x();if(!e)return;const a=e.endorsements||[];if(!a.length){const r=document.createElement("p");r.className="interactive-showcase-empty",r.textContent="No endorsements available.",s.appendChild(r);return}const h=a[0],i=document.createElement("div");i.className=`${this.classPrefix}endorsement-content ${this.classPrefix}content-item`;const m=document.createElement("blockquote");m.textContent=h.quote||"";const p=document.createElement("div");p.className=`${this.classPrefix}endorser`,p.textContent=`â€” ${h.name||"Anonymous"}${h.role?", "+h.role:""}`,i.append(m,p);const c=document.createElement("div");c.className=`${this.classPrefix}cta-container ${this.classPrefix}content-item`;const n=document.createElement("a");n.href="about.html",n.className=`${this.classPrefix}cta-link`,n.textContent="View All Endorsements â†’",c.appendChild(n),s.append(i,c)}}customElements.define("interactive-showcase",b);
