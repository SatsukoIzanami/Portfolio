import"./nav-bar-DKg1tGoi.js";class I extends HTMLElement{constructor(){super()}connectedCallback(){const v=document.createElement("div");v.className="contact-form-wrapper";const S=document.createElement("h2");S.textContent="Let’s talk about your project";const y=document.createElement("p");y.className="contact-form-lede",y.textContent="Have a question, an idea, or a project in mind? Share a few details below—Jessica will follow up personally to talk through next steps.";const i=document.createElement("form");i.className="contact-form-form",i.noValidate=!0;const f=(t,s,e="input",o={})=>{const c=document.createElement("div");c.className="contact-form-field";const a=document.createElement("label");a.htmlFor=s,a.textContent=t;const l=document.createElement(e==="textarea"?"textarea":"input");l.name=s,l.id=s,Object.entries(o).forEach(([r,u])=>{u===!0||u===""?l.setAttribute(r,""):u!==!1&&u!=null&&l.setAttribute(r,String(u))});const d=document.createElement("div");return d.className="contact-form-field-error",d.id=`${s}-err`,d.setAttribute("aria-live","polite"),l.setAttribute("aria-describedby",d.id),c.append(a,l,d),c},z="^[A-Za-z0-9 ]+$",$="^[A-Za-z][A-Za-z\\- ]*$",q="^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$",Z=f("Subject*","subject","input",{type:"text",pattern:z,maxlength:"80",placeholder:"e.g., Portfolio Inquiry"}),D=f("Name*","name","input",{type:"text",pattern:$,maxlength:"60",placeholder:"e.g., Jane Doe"}),W=f("Email*","email","input",{type:"email",pattern:q,maxlength:"120",placeholder:"you@example.com"}),F=f("Phone*","phone","input",{type:"tel",maxlength:"20",placeholder:"e.g., 715-600-3468"}),x=f("Message*","message","textarea",{maxlength:"1000",placeholder:"How can I help?"}),A=x.querySelector("textarea"),p=document.createElement("div");p.className="contact-form-msg-counter",p.textContent="Words: 0 / 10 minimum",x.appendChild(p);const E=document.createElement("div");E.className="contact-form-actions";const h=document.createElement("button");h.className="btn",h.type="submit",h.textContent="Send";const g=document.createElement("button");g.className="btn ghost",g.type="reset",g.textContent="Reset",E.append(h,g);const C=document.createElement("div");C.className="contact-form-note",C.textContent="Subject ≥ 4 chars, no 3+ repeating letters. Name ≥ 3 chars, letters/spaces/hyphens only, no numbers, no 3+ repeating letters. Email must be valid. Phone requires at least 10 numeric chars with valid area code, no all-repeating digits. Message ≥ 10 words, no 3+ repeating letters, and may include common punctuation.";const n=document.createElement("div");n.className="contact-form-message",n.setAttribute("aria-live","polite"),v.append(S,y,i),i.append(Z,D,W,F,x,E,C,n),this.appendChild(v);const m=t=>{const s=i.querySelector(`[name="${t}"]`),e=s.closest(".contact-form-field"),o=e.querySelector(".contact-form-field-error");return{control:s,row:e,err:o}},N=(t,s)=>{const{control:e,row:o,err:c}=m(t);e&&(s?(o.classList.add("is-invalid"),c.textContent=s):(o.classList.remove("is-invalid"),c.textContent=""))},L=t=>(t.match(/[A-Za-z0-9]/g)||[]).length,M=t=>(t.trim().match(/\b\w+\b/g)||[]).length,w=t=>{const s=t.toLowerCase().replace(/[^a-z]/g,"");return/([a-z])\1{2,}/.test(s)},H=t=>{const s=t.replace(/\D/g,"");if(s.length<10)return!1;let e=s;if(e.length===11&&e.startsWith("1")&&(e=e.slice(1)),e.length!==10)return!1;const o=e.slice(0,3),c=e.slice(3,6),a=e.slice(6);return!!(/(\d)\1{3,}/.test(o)||/(\d)\1{3,}/.test(c)||/(\d)\1{3,}/.test(a))},b=()=>{const t=A.value||"",s=M(t);p.textContent=`Words: ${s} / 10 minimum`},j=t=>{const{control:s}=m(t);if(!s)return!0;s.tagName.toLowerCase()!=="textarea"&&(s.value=s.value.trim());let e="";const o=s.validity,c={subject:"Subject",name:"Name",email:"Email",phone:"Phone",message:"Message"};if(o.typeMismatch&&s.type==="email"?e="Please enter a valid email address.":o.patternMismatch&&(t==="subject"?e=`${c[t]} may contain letters, numbers, and spaces only.`:t==="name"?e="Name may contain letters, spaces, or hyphens only.":t==="email"&&(e="Please enter a valid email address.")),!e){const a=s.value;if(t==="subject")a.length<4||L(a)<4?e="Subject must be at least 4 characters (letters/numbers).":w(a)&&(e='Subject cannot contain 3 or more consecutive repeating letters (e.g., "aaa").');else if(t==="name")a.length<3?e="Name must be at least 3 characters long.":/^[A-Za-z][A-Za-z\- ]*$/.test(a)?/\d/.test(a)?e="Name cannot contain numbers.":w(a)&&(e='Name cannot contain 3 or more consecutive repeating letters (e.g., "aaa").'):e="Name may contain letters, spaces, or hyphens only (no numbers).";else if(t==="message")/^[A-Za-z0-9 ,.!?'"()\-\n\r]+$/.test(a)?L(a)<10?e="Message must have at least 10 letters/numbers.":M(a)<10?e="Message must contain at least 10 words.":w(a)&&(e='Message cannot contain 3 or more consecutive repeating letters (e.g., "aaa").'):e="Message may contain letters, numbers, spaces, and common punctuation.";else if(t==="email")/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(a)||(e="Please enter a valid email address.");else if(t==="phone"){const l=a.trim();if(!/^\s*(?:\+?1[.\-\s]?)?(?:\(?\d{3}\)?[.\-\s]?\d{3}[.\-\s]?\d{4})\s*$/.test(l))e="Please enter a valid phone number (10 digits).";else{let r=l.replace(/\D/g,"");if(r.length===11&&r.startsWith("1")&&(r=r.slice(1)),r.length!==10)e="Phone number must have exactly 10 digits.";else{const u=r.slice(0,3),P=r.slice(3,6),k=r.slice(6);u[0]<"2"||u[0]>"9"?e="Area code must start with digits 2–9.":P[0]<"2"||P[0]>"9"?e="Phone number prefix must start with digits 2–9.":P==="000"||k==="0000"?e="Please enter a realistic phone number, not all zeros.":H(l)&&(e="Phone number cannot have more than 3 repeating digits in any section (area code, exchange, or line number).")}}}}return N(t,e),!e},T=()=>{let t=!0;return["subject","name","email","phone","message"].forEach(s=>{j(s)||(t=!1)}),t};A.addEventListener("input",b),["subject","name","email","phone","message"].forEach(t=>{const{control:s}=m(t);s.addEventListener("blur",()=>j(t)),s.addEventListener("input",()=>j(t))}),i.addEventListener("submit",t=>{if(t.preventDefault(),n.className="contact-form-message",n.textContent="",!T()){n.textContent="Please fix the highlighted fields and try again.",n.classList.add("visible","error");const e=i.querySelector(".contact-form-field.is-invalid input, .contact-form-field.is-invalid textarea");e&&e.focus();return}const s={subject:m("subject").control.value,name:m("name").control.value,email:m("email").control.value,phone:m("phone").control.value,message:m("message").control.value};console.log("Contact form submission:",s),n.textContent="Thank you! Your message has been sent (demo only – no email was actually sent).",n.classList.add("visible","success"),i.reset(),b(),["subject","name","email","phone","message"].forEach(e=>N(e,""))}),i.addEventListener("reset",()=>{setTimeout(()=>{n.className="contact-form-message",n.textContent="",b(),["subject","name","email","phone","message"].forEach(t=>N(t,""))},0)}),b()}}customElements.define("contact-form",I);
