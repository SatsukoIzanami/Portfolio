import"./nav-bar-DKg1tGoi.js";class I extends HTMLElement{constructor(){super()}connectedCallback(){const v=document.createElement("div");v.className="contact-form-wrapper";const S=document.createElement("h2");S.textContent="Let’s talk about your project";const y=document.createElement("p");y.className="contact-form-lede",y.textContent="Have a question, an idea, or a project in mind? Share a few details below—Jessica will follow up personally to talk through next steps.";const c=document.createElement("form");c.className="contact-form-form",c.noValidate=!0;const p=(e,a,t="input",l={})=>{const m=document.createElement("div");m.className="contact-form-field";const s=document.createElement("label");s.htmlFor=a,s.textContent=e;const r=document.createElement(t==="textarea"?"textarea":"input");r.name=a,r.id=a,Object.entries(l).forEach(([n,u])=>{u===!0||u===""?r.setAttribute(n,""):u!==!1&&u!=null&&r.setAttribute(n,String(u))});const d=document.createElement("div");return d.className="contact-form-field-error",d.id=`${a}-err`,d.setAttribute("aria-live","polite"),r.setAttribute("aria-describedby",d.id),m.append(s,r,d),m},$="^[A-Za-z0-9 ]+$",z="^[A-Za-z][A-Za-z\\- ]*$",q="^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$",Z=p("Subject*","subject","input",{type:"text",pattern:$,maxlength:"80",placeholder:"e.g., Portfolio Inquiry"}),D=p("Name*","name","input",{type:"text",pattern:z,maxlength:"60",placeholder:"e.g., Jane Doe"}),F=p("Email*","email","input",{type:"email",pattern:q,maxlength:"120",placeholder:"you@example.com"}),H=p("Phone*","phone","input",{type:"tel",maxlength:"20",placeholder:"e.g., 715-600-3468"}),x=p("Message*","message","textarea",{maxlength:"1000",placeholder:"How can I help?"}),A=x.querySelector("textarea"),f=document.createElement("div");f.className="contact-form-msg-counter",f.textContent="Words: 0 / 10 minimum",x.appendChild(f);const E=document.createElement("div");E.className="contact-form-actions";const h=document.createElement("button");h.className="btn",h.type="submit",h.textContent="Send";const g=document.createElement("button");g.className="btn ghost",g.type="reset",g.textContent="Reset",E.append(h,g);const C=document.createElement("div");C.className="contact-form-note",C.textContent="Subject ≥ 4 chars, no 3+ repeating letters. Name ≥ 3 chars, letters/spaces/hyphens only, no numbers, no 3+ repeating letters. Email must be valid. Phone requires at least 10 numeric chars with valid area code, no all-repeating digits. Message ≥ 10 words, no 3+ repeating letters, and may include common punctuation.";const o=document.createElement("div");o.className="contact-form-message",o.setAttribute("aria-live","polite"),v.append(S,y,c),c.append(Z,D,F,H,x,E,C,o),this.appendChild(v);const i=e=>{const a=c.querySelector(`[name="${e}"]`),t=a.closest(".contact-form-field"),l=t.querySelector(".contact-form-field-error");return{control:a,row:t,err:l}},N=(e,a)=>{const{control:t,row:l,err:m}=i(e);t&&(a?(l.classList.add("is-invalid"),m.textContent=a):(l.classList.remove("is-invalid"),m.textContent=""))},L=e=>(e.match(/[A-Za-z0-9]/g)||[]).length,M=e=>(e.trim().match(/\b\w+\b/g)||[]).length,w=e=>{const a=e.toLowerCase().replace(/[^a-z]/g,"");return/([a-z])\1{2,}/.test(a)},T=e=>{const a=e.replace(/\D/g,"");return a.length<10?!1:/^(\d)\1+$/.test(a)},b=()=>{const e=A.value||"",a=M(e);f.textContent=`Words: ${a} / 10 minimum`},P=e=>{const{control:a}=i(e);if(!a)return!0;a.tagName.toLowerCase()!=="textarea"&&(a.value=a.value.trim());let t="";const l=a.validity,m={subject:"Subject",name:"Name",email:"Email",phone:"Phone",message:"Message"};if(l.typeMismatch&&a.type==="email"?t="Please enter a valid email address.":l.patternMismatch&&(e==="subject"?t=`${m[e]} may contain letters, numbers, and spaces only.`:e==="name"?t="Name may contain letters, spaces, or hyphens only.":e==="email"&&(t="Please enter a valid email address.")),!t){const s=a.value;if(e==="subject")s.length<4||L(s)<4?t="Subject must be at least 4 characters (letters/numbers).":w(s)&&(t='Subject cannot contain 3 or more consecutive repeating letters (e.g., "aaa").');else if(e==="name")s.length<3?t="Name must be at least 3 characters long.":/^[A-Za-z][A-Za-z\- ]*$/.test(s)?/\d/.test(s)?t="Name cannot contain numbers.":w(s)&&(t='Name cannot contain 3 or more consecutive repeating letters (e.g., "aaa").'):t="Name may contain letters, spaces, or hyphens only (no numbers).";else if(e==="message")/^[A-Za-z0-9 ,.!?'"()\-\n\r]+$/.test(s)?L(s)<10?t="Message must have at least 10 letters/numbers.":M(s)<10?t="Message must contain at least 10 words.":w(s)&&(t='Message cannot contain 3 or more consecutive repeating letters (e.g., "aaa").'):t="Message may contain letters, numbers, spaces, and common punctuation.";else if(e==="email")/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(s)||(t="Please enter a valid email address.");else if(e==="phone"){const r=s.trim();if(!/^\s*(?:\+?1[.\-\s]?)?(?:\(?\d{3}\)?[.\-\s]?\d{3}[.\-\s]?\d{4})\s*$/.test(r))t="Please enter a valid phone number (10 digits).";else{let n=r.replace(/\D/g,"");if(n.length===11&&n.startsWith("1")&&(n=n.slice(1)),n.length!==10)t="Phone number must have exactly 10 digits.";else{const u=n.slice(0,3),j=n.slice(3,6),k=n.slice(6);u[0]<"2"||u[0]>"9"?t="Area code must start with digits 2–9.":j[0]<"2"||j[0]>"9"?t="Phone number prefix must start with digits 2–9.":j==="000"||k==="0000"?t="Please enter a realistic phone number, not all zeros.":T(r)?t='Phone number cannot have all repeating digits (e.g., "111-111-1111").':/^(\d)\1{9}$/.test(n)&&(t="Please enter a realistic phone number.")}}}}return N(e,t),!t},W=()=>{let e=!0;return["subject","name","email","phone","message"].forEach(a=>{P(a)||(e=!1)}),e};A.addEventListener("input",b),["subject","name","email","phone","message"].forEach(e=>{const{control:a}=i(e);a.addEventListener("blur",()=>P(e)),a.addEventListener("input",()=>P(e))}),c.addEventListener("submit",e=>{if(e.preventDefault(),o.className="contact-form-message",o.textContent="",!W()){o.textContent="Please fix the highlighted fields and try again.",o.classList.add("visible","error");const t=c.querySelector(".contact-form-field.is-invalid input, .contact-form-field.is-invalid textarea");t&&t.focus();return}const a={subject:i("subject").control.value,name:i("name").control.value,email:i("email").control.value,phone:i("phone").control.value,message:i("message").control.value};console.log("Contact form submission:",a),o.textContent="Thank you! Your message has been sent (demo only – no email was actually sent).",o.classList.add("visible","success"),c.reset(),b(),["subject","name","email","phone","message"].forEach(t=>N(t,""))}),c.addEventListener("reset",()=>{setTimeout(()=>{o.className="contact-form-message",o.textContent="",b(),["subject","name","email","phone","message"].forEach(e=>N(e,""))},0)}),b()}}customElements.define("contact-form",I);
