import"./nav-bar-Di05nDYh.js";class D extends HTMLElement{constructor(){super()}connectedCallback(){const v=document.createElement("div");v.className="contact-form-wrapper";const P=document.createElement("h2");P.textContent="Let’s talk about your project";const x=document.createElement("p");x.className="contact-form-lede",x.textContent="Have a question, an idea, or a project in mind? Share a few details below—Jessica will follow up personally to talk through next steps.";const c=document.createElement("form");c.className="contact-form-form",c.noValidate=!0;const f=(e,a,t="input",l={})=>{const m=document.createElement("div");m.className="contact-form-field";const s=document.createElement("label");s.htmlFor=a,s.textContent=e;const r=document.createElement(t==="textarea"?"textarea":"input");r.name=a,r.id=a,Object.entries(l).forEach(([n,u])=>{u===!0||u===""?r.setAttribute(n,""):u!==!1&&u!=null&&r.setAttribute(n,String(u))});const d=document.createElement("div");return d.className="contact-form-field-error",d.id=`${a}-err`,d.setAttribute("aria-live","polite"),r.setAttribute("aria-describedby",d.id),m.append(s,r,d),m},L="^[A-Za-z0-9 ]+$",$="^[A-Za-z][A-Za-z\\- ]*$",z="^[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}$",q=f("Subject*","subject","input",{type:"text",pattern:L,maxlength:"80",placeholder:"e.g., Portfolio Inquiry"}),Z=f("Name*","name","input",{type:"text",pattern:$,maxlength:"60",placeholder:"e.g., Jane Doe"}),F=f("Email*","email","input",{type:"email",pattern:z,maxlength:"120",placeholder:"you@example.com"}),H=f("Phone*","phone","input",{type:"tel",maxlength:"20",placeholder:"e.g., 715-600-3468"}),y=f("Message*","message","textarea",{maxlength:"1000",placeholder:"How can I help?"}),A=y.querySelector("textarea"),p=document.createElement("div");p.className="contact-form-msg-counter",p.textContent="Words: 0 / 10 minimum",y.appendChild(p);const E=document.createElement("div");E.className="contact-form-actions";const h=document.createElement("button");h.className="btn",h.type="submit",h.textContent="Send";const g=document.createElement("button");g.className="btn ghost",g.type="reset",g.textContent="Reset",E.append(h,g);const C=document.createElement("div");C.className="contact-form-note",C.textContent="Subject ≥ 4 chars. Name ≥ 2 letters. Email must be valid. Phone requires at least 10 numeric chars with valid area code. Message ≥ 10 words, and may include common punctuation.";const o=document.createElement("div");o.className="contact-form-message",o.setAttribute("aria-live","polite"),v.append(P,x,c),c.append(q,Z,F,H,y,E,C,o),this.appendChild(v);const i=e=>{const a=c.querySelector(`[name="${e}"]`),t=a.closest(".contact-form-field"),l=t.querySelector(".contact-form-field-error");return{control:a,row:t,err:l}},w=(e,a)=>{const{control:t,row:l,err:m}=i(e);t&&(a?(l.classList.add("is-invalid"),m.textContent=a):(l.classList.remove("is-invalid"),m.textContent=""))},S=e=>(e.match(/[A-Za-z0-9]/g)||[]).length,M=e=>(e.trim().match(/\b\w+\b/g)||[]).length,b=()=>{const e=A.value||"",a=M(e);p.textContent=`Words: ${a} / 10 minimum`},N=e=>{const{control:a}=i(e);if(!a)return!0;a.tagName.toLowerCase()!=="textarea"&&(a.value=a.value.trim());let t="";const l=a.validity,m={subject:"Subject",name:"Name",email:"Email",phone:"Phone",message:"Message"};if(l.typeMismatch&&a.type==="email"?t="Please enter a valid email address.":l.patternMismatch&&(e==="subject"?t=`${m[e]} may contain letters, numbers, and spaces only.`:e==="name"?t="Name may contain letters, spaces, or hyphens only.":e==="email"&&(t="Please enter a valid email address.")),!t){const s=a.value;if(e==="subject")(s.length<4||S(s)<4)&&(t="Subject must be at least 4 characters (letters/numbers).");else if(e==="name")(s.length<2||!/^[A-Za-z][A-Za-z\- ]*$/.test(s))&&(t="Name must start with a letter and be at least 2 characters.");else if(e==="message")/^[A-Za-z0-9 ,.!?'"()\-\n\r]+$/.test(s)?S(s)<10?t="Message must have at least 10 letters/numbers.":M(s)<10&&(t="Message must contain at least 10 words."):t="Message may contain letters, numbers, spaces, and common punctuation.";else if(e==="email")/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(s)||(t="Please enter a valid email address.");else if(e==="phone"){const r=s.trim();if(!/^\s*(?:\+?1[.\-\s]?)?(?:\(?\d{3}\)?[.\-\s]?\d{3}[.\-\s]?\d{4})\s*$/.test(r))t="Please enter a valid phone number (10 digits).";else{let n=r.replace(/\D/g,"");if(n.length===11&&n.startsWith("1")&&(n=n.slice(1)),n.length!==10)t="Phone number must have exactly 10 digits.";else{const u=n.slice(0,3),j=n.slice(3,6),k=n.slice(6);u[0]<"2"||u[0]>"9"?t="Area code must start with digits 2–9.":j[0]<"2"||j[0]>"9"?t="Phone number prefix must start with digits 2–9.":j==="000"||k==="0000"?t="Please enter a realistic phone number, not all zeros.":/^(\d)\1{9}$/.test(n)&&(t="Please enter a realistic phone number.")}}}}return w(e,t),!t},W=()=>{let e=!0;return["subject","name","email","phone","message"].forEach(a=>{N(a)||(e=!1)}),e};A.addEventListener("input",b),["subject","name","email","phone","message"].forEach(e=>{const{control:a}=i(e);a.addEventListener("blur",()=>N(e)),a.addEventListener("input",()=>N(e))}),c.addEventListener("submit",e=>{if(e.preventDefault(),o.className="contact-form-message",o.textContent="",!W()){o.textContent="Please fix the highlighted fields and try again.",o.classList.add("visible","error");const t=c.querySelector(".contact-form-field.is-invalid input, .contact-form-field.is-invalid textarea");t&&t.focus();return}const a={subject:i("subject").control.value,name:i("name").control.value,email:i("email").control.value,phone:i("phone").control.value,message:i("message").control.value};console.log("Contact form submission:",a),o.textContent="Thank you! Your message has been sent (demo only – no email was actually sent).",o.classList.add("visible","success"),c.reset(),b(),["subject","name","email","phone","message"].forEach(t=>w(t,""))}),c.addEventListener("reset",()=>{setTimeout(()=>{o.className="contact-form-message",o.textContent="",b(),["subject","name","email","phone","message"].forEach(e=>w(e,""))},0)}),b()}}customElements.define("contact-form",D);
