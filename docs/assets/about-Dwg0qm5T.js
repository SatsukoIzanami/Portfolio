import"./nav-bar-Di05nDYh.js";import{l as p}from"./about-data-C6eybRQ0.js";class C extends HTMLElement{constructor(){super()}connectedCallback(){const s=document.createElement("div");s.className="about-bio-wrap";const t=document.createElement("section");t.className="about-bio-section";const e=document.createElement("h2");e.textContent="About Me";const n=document.createElement("div");n.className="about-bio-bio",n.id="bio",t.append(e,n),s.appendChild(t),this.appendChild(s),this._load(n)}async _load(s){const t=await p();if(!t)return;const e=t.bio||{};if(e.avatar){const o=document.createElement("img");o.alt="";const i="/Portfolio/";o.src=e.avatar.startsWith("http")?e.avatar:`${i}${e.avatar}`,s.appendChild(o)}const n=document.createElement("div"),l=document.createElement("h3");if(l.style.margin="0 0 6px",l.textContent=e.headline||"",n.appendChild(l),e.subline){const o=document.createElement("div");o.textContent=e.subline,n.appendChild(o)}if(e.body){const o=document.createElement("p");o.style.marginTop="10px",o.textContent=e.body,n.appendChild(o)}s.appendChild(n)}}customElements.define("about-bio",C);class f extends HTMLElement{constructor(){super(),this.min=Number(this.getAttribute("min-level")||0),this.data=[]}connectedCallback(){const s=document.createElement("div");s.className="skills-wrap";const t=document.createElement("section");t.className="skills-section";const e=document.createElement("h2");e.textContent="Skills";const n=document.createElement("div");n.id="skills",t.append(e,n),s.appendChild(t),this.appendChild(s),this._load()}async _load(){const s=await p();s&&(this.data=s.skills&&s.skills.categories?s.skills.categories:[],this._render())}_render(){const s=this.querySelector("#skills");if(s.textContent="",!this.data.length){const t=document.createElement("p");t.style.color="var(--muted,#9aa4b2)",t.textContent="No skills listed.",s.appendChild(t);return}this.data.forEach(t=>{const e=document.createElement("div");e.style.margin="8px 0 2px",e.style.fontWeight="600",e.textContent=t.title||t.name||"Skills",s.appendChild(e);const n=document.createElement("div");n.className="skills-grid",(t.items||[]).filter(l=>Number(l.value||0)>=this.min).forEach(l=>{const o=Math.max(0,Math.min(3,Number(l.value||0))),i=o/3*100,d=String(l.label||""),a=document.createElement("div");a.className="skills-skill";const r=document.createElement("div");r.textContent=d;const m=document.createElement("div");m.textContent=`${o}/3`;const h=document.createElement("div");h.className="skills-bar";const E=document.createElement("div");E.className="skills-fill",E.style.width=`${i}%`,h.appendChild(E),a.append(r,m,h),n.appendChild(a)}),s.appendChild(n)})}}customElements.define("skills-list",f);class v extends HTMLElement{constructor(){super()}connectedCallback(){const s=document.createElement("div");s.className="endorsements-wrap";const t=document.createElement("section");t.className="endorsements-section";const e=document.createElement("h2");e.textContent="Endorsements";const n=document.createElement("div");n.id="endorsements",n.className="endorsements-list",t.append(e,n),s.appendChild(t),this.appendChild(s),this._load(n)}async _load(s){const t=await p();if(!t)return;const e=t.endorsements||[];if(s.textContent="",!e.length){const n=document.createElement("p");n.style.color="var(--muted,#9aa4b2)",n.textContent="No endorsements yet.",s.appendChild(n);return}e.forEach(n=>{const l=document.createElement("div"),o=document.createElement("blockquote");String(n.quote||"").split(`
`).forEach((d,a)=>{a&&o.appendChild(document.createElement("br")),o.appendChild(document.createTextNode(d))});const i=document.createElement("div");i.className="endorsements-endorser",i.textContent=`— ${n.name||"Anonymous"}${n.role?", "+n.role:""}`,l.append(o,i),s.appendChild(l)})}}customElements.define("endorsements-list",v);class x extends HTMLElement{constructor(){super()}connectedCallback(){const s=document.createElement("div");s.className="timeline-wrap";const t=document.createElement("section");t.className="timeline-section",t.id="card";const e=document.createElement("h2");e.textContent="Employment Timeline";const n=document.createElement("ul");n.id="timelineList",n.className="timeline-ul",n.setAttribute("aria-label","Employment timeline"),t.append(e,n),s.appendChild(t),this.appendChild(s),new IntersectionObserver(o=>{o.forEach(i=>{i.isIntersecting&&i.target.classList.add("show")})},{threshold:.12}).observe(t),this._load(n)}async _load(s){const t=await p();t&&this._render(s,Array.isArray(t.timeline)?t.timeline:[])}_render(s,t){s.textContent="",t.forEach(e=>{const n=document.createElement("li");n.className="timeline-li",n.tabIndex=0;const l=document.createElement("div");l.className="timeline-title";const o=`${e.start||""}${e.end?" — "+e.end:" — Present"}`;l.textContent=o;const i=document.createElement("div");i.className="timeline-details";const d=[e.role||"",e.company||""].filter(Boolean).join(" — ");if(d){const a=document.createElement("div");a.textContent=d,i.appendChild(a)}if(Array.isArray(e.bullets)&&e.bullets.length){const a=document.createElement("ul");a.className="timeline-bullets",e.bullets.forEach(r=>{const m=document.createElement("li");m.textContent=String(r),a.appendChild(m)}),i.appendChild(a)}n.append(l,i),s.appendChild(n)})}}customElements.define("employment-timeline",x);function u(){const c=document.querySelectorAll(".fade-section");if(c.length===0){setTimeout(u,100);return}const s=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("visible"),s.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -20px 0px"});c.forEach(t=>{t.classList.remove("visible");const e=t.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;e.top<n&&e.bottom>0?setTimeout(()=>{t.classList.add("visible")},50):s.observe(t)})}function g(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{b()}):b()}function b(){const t=["about-bio","skills-list","endorsements-list","employment-timeline","quiz-game","message-encoder"].filter(e=>document.querySelector(e)!==null).map(e=>customElements.whenDefined(e));if(t.length===0){setTimeout(u,150);return}Promise.all(t).then(()=>{setTimeout(u,150)}).catch(()=>{setTimeout(u,300)})}g();
